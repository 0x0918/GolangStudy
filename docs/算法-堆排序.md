# 堆排序

## 简介

（二叉）堆是一个数组，它可以被看成是一个近似的完全二叉树。

> 完全二叉树:一棵二叉树中，只有最下面两层结点的度可以小于 2，并且最下一层的叶结点集中在靠左的若干位置上。这样的二叉树称为完全二叉树
 
## 结构图示

![结构图](https://cnymw.github.io/go-study/docs/img/算法-堆排序/算法-堆排序-结构图.png)

## 最大堆，最小堆

二叉堆可以分为最大堆和最小堆：

- 最大堆：除了根以外的所有节点 i 都要满足 A[PARENT(i)]>=A[i],也就是说某个节点的值至多与其父节点一样大,堆中最大元素存放在根节点中
- 最小堆：除了根以外的所有节点 i 都要满足 A[PARENT(i)]<=A[i],最小堆中最小的元素存放在根节点中

## 伪代码

### 维护堆的性质

MAX-HEAPIFY 通过让 A[i] 的值在最大堆中下沉，从而使得以下标 i 为根节点的子树重新遵循最大堆的性质

![maxheapify](https://cnymw.github.io/go-study/docs/img/算法-堆排序/算法-堆排序-maxheapify.png)

### 建堆

我们可以用自底向上的方法利用过程 MAX-HEAPIFY 把数组转换为最大堆。

![build-max-heap](https://cnymw.github.io/go-study/docs/img/算法-堆排序/算法-堆排序-buildmaxheap.png)

## 复杂度

O(nlgn)