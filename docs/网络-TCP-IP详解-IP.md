# TCP-IP 详解：IP 网际协议

IP 是 TCP/IP 协议族中最为核心的协议，所有的 TCP，UDP，ICMP 和 IGMP 数据都以 IP 数据报格式传输。

## 特性

IP 提供不可靠，无连接的数据报传送服务。

- 不可靠：不能保证 IP 数据报能成功地到达目的地，IP 仅提供最好的传输服务。
- 无连接：IP 并不维护任何关于后续数据报的状态信息，每个数据报的处理都是相互独立的，这也意味着，IP 数据报可以不按发送顺序接受。

## IP 首部

IP 的数据格式如下：

![IP 首部](https://cnymw.github.io/GolangStudy/docs/img/网络-TCP-IP详解-IP-首部.png)

- 版本：目前 IP 的协议版本号是 4，因此 IP 也称作 IPv4。
- 首部长度：指的是首部占 32 bit 字的数目，包括任何选项。
- 服务类型（TOS）：4 bit 的 TOS 分别代表最小时延，最大吞吐量，最高可靠性和最小费用。
- 总长度字段：指整个 IP 数据报的长度，以字节为单位。由于该字段长 16 bit，所以 IP 数据报最长可达 65535 字节。
